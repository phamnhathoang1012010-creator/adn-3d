<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ADN 3D</title>

<style>
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  background:black;
  overflow:hidden;
}

/* canvas luôn phủ full */
canvas{
  position:fixed;
  top:0;
  left:0;
  width:100vw !important;
  height:100vh !important;
}

/* tiêu đề */
#title{
  position:fixed;
  top:16px;
  left:50%;
  transform:translateX(-50%);
  color:white;
  font-size:22px;
  z-index:10;
  font-family:serif;
}
</style>
</head>

<body>

<div id="title">Mô phỏng ADN 3D</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/controls/OrbitControls.js"></script>

<script>
window.onload = () => {

  const scene = new THREE.Scene();

  const camera = new THREE.PerspectiveCamera(
    60,
    window.innerWidth / window.innerHeight,
    0.1,
    1000
  );
  camera.position.z = 12;

  const renderer = new THREE.WebGLRenderer({ antialias:true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  const controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.enableDamping = true;

  scene.add(new THREE.AmbientLight(0xffffff, 1.2));

  const dna = new THREE.Group();
  scene.add(dna);

  const colors = [0xff5555,0x55aaff,0x55ff55,0xffdd55];
  const radius = 2;

  for(let i=0;i<200;i++){
    const a = i * 0.35;
    const y = i * 0.06 - 6;

    const s1 = new THREE.Mesh(
      new THREE.SphereGeometry(0.16,16,16),
      new THREE.MeshStandardMaterial({color:colors[i%4]})
    );
    const s2 = s1.clone();

    s1.position.set(Math.cos(a)*radius,y,Math.sin(a)*radius);
    s2.position.set(Math.cos(a+Math.PI)*radius,y,Math.sin(a+Math.PI)*radius);

    const link = new THREE.Mesh(
      new THREE.CylinderGeometry(0.04,0.04,radius*2,8),
      new THREE.MeshStandardMaterial({color:0xffffff})
    );
    link.position.y = y;
    link.rotation.z = Math.PI/2;
    link.rotation.y = a;

    dna.add(s1,s2,link);
  }

  function animate(){
    requestAnimationFrame(animate);
    dna.rotation.y += 0.003;
    controls.update();
    renderer.render(scene,camera);
  }
  animate();

  window.addEventListener("resize",()=>{
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth,window.innerHeight);
  });

};
</script>

</body>
</html>
