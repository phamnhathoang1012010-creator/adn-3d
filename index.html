<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ADN 3D</title>

<style>
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  background:black;
  overflow:hidden;
}
canvas{
  display:block;
}
#title{
  position:fixed;
  top:12px;
  width:100%;
  text-align:center;
  color:white;
  font-size:22px;
  font-family:serif;
  z-index:10;
}
</style>
</head>

<body>
<div id="title">Mô phỏng ADN 3D</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<script>
const scene = new THREE.Scene();

const camera = new THREE.PerspectiveCamera(
  60,
  window.innerWidth/window.innerHeight,
  0.1,
  1000
);
camera.position.z = 12;

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

scene.add(new THREE.AmbientLight(0xffffff,1.2));

const dna = new THREE.Group();
scene.add(dna);

const radius = 2;
const colors = [0xff4444,0x44aaff,0x44ff88,0xffdd44];

for(let i=0;i<180;i++){
  const angle = i*0.35;
  const y = i*0.06 - 5;

  const a = new THREE.Mesh(
    new THREE.SphereGeometry(0.16,16,16),
    new THREE.MeshStandardMaterial({color:colors[i%4]})
  );
  const b = a.clone();

  a.position.set(Math.cos(angle)*radius,y,Math.sin(angle)*radius);
  b.position.set(Math.cos(angle+Math.PI)*radius,y,Math.sin(angle+Math.PI)*radius);

  const link = new THREE.Mesh(
    new THREE.CylinderGeometry(0.04,0.04,radius*2,8),
    new THREE.MeshStandardMaterial({color:0xffffff})
  );
  link.position.y = y;
  link.rotation.z = Math.PI/2;
  link.rotation.y = angle;

  dna.add(a,b,link);
}

function animate(){
  requestAnimationFrame(animate);
  dna.rotation.y += 0.01;
  renderer.render(scene,camera);
}
animate();

window.addEventListener("resize",()=>{
  camera.aspect = window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth,window.innerHeight);
});
</script>
</body>
</html>
